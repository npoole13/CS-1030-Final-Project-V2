<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Decision Tree</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <link href="style.css" rel="stylesheet">
</head>

<!-- Toggle light-page â†” dark-page -->

<body class="light-page">

    <!-- Navbar gets added here -->
    <div id="nav-placeholder"></div>

    <!-- Main content -->
    <main class="container py-4">
        <h1>Material Selection Decision Tree</h1>

        <form name="form1" id="form1">
            Max Temp:
            <select name="Temperature" id="Temperature">
                <option value="" selected="selected">Select Temperature</option>
            </select>

            <br><br>

            Alloys:
            <select name="Alloy" id="Alloy">
                <option value="" selected="selected">Select Alloy</option>
            </select>

            <br><br>

            Strength:
            <select name="Strength" id="Strength">
                <option value="" selected="selected">Select Strength</option>
            </select>

            <br><br>

            <input type="submit" value="Submit">
        </form>
    </main>




    <script>
        // Load only the #site-nav element
        $("#nav-placeholder").load("navbar.html #site-nav");
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
var subjectObject = {
  "200": {
    "2xxx": ["Images", "Tables", "Lists"],
    "6xxx": ["Borders", "Margins", "Backgrounds", "Float"],
    "7xxx": ["Variables", "Operators", "Functions", "Conditions"]    
  },
  "300": {
    "2xxx": ["350 MPA", "7075"],
    "7xxx": ["350 MPA", "7075"]
  }
}

window.onload = function() {

  var temperatureSel = document.getElementById("Temperature");
  var alloySel = document.getElementById("Alloy");
  var strengthSel = document.getElementById("Strength");

  // Fill first dropdown
  for (var temp in subjectObject) {
    temperatureSel.options[temperatureSel.options.length] = new Option(temp, temp);
  }

  // When Temperature changes
  temperatureSel.onchange = function() {
    alloySel.length = 1;   // reset alloy dropdown
    strengthSel.length = 1; // reset strength dropdown

    let alloys = subjectObject[this.value];
    for (var alloy in alloys) {
      alloySel.options[alloySel.options.length] = new Option(alloy, alloy);
    }
  }

  // When Alloy changes
  alloySel.onchange = function() {
    strengthSel.length = 1;

    let strengthList = subjectObject[temperatureSel.value][this.value];
    for (var i = 0; i < strengthList.length; i++) {
      strengthSel.options[strengthSel.options.length] = new Option(strengthList[i], strengthList[i]);
    }
  }

}
</script>
</body>

</html>